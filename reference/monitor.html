<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute summaries of MCMC draws and monitor convergence — monitor • rstan</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute summaries of MCMC draws and monitor convergence — monitor"><meta property="og:description" content="Similar to the print method for stanfit objects, but monitor
  takes an array of simulations as its argument rather than a stanfit
  object. For a 3-D array (iterations * chains * parameters) of MCMC draws, 
  monitor computes means, standard deviations, quantiles, Monte Carlo 
  standard errors, split Rhats, and effective sample sizes. By default, half of 
  the iterations are considered warmup and are excluded."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rstan</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.26.24</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://mc-stan.org/rstanarm">rstanarm</a>
    </li>
    <li>
      <a href="https://mc-stan.org/bayesplot" class="external-link">bayesplot</a>
    </li>
    <li>
      <a href="https://mc-stan.org/shinystan" class="external-link">shinystan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/loo" class="external-link">loo</a>
    </li>
    <li>
      <a href="https://mc-stan.org/projpred" class="external-link">projpred</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstantools">rstantools</a>
    </li>
  </ul></li>
<li>
  <a href="https://mc-stan.org" class="external-link">Stan</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://twitter.com/mcmc_stan" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/rstan" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discourse.mc-stan.org/" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute summaries of MCMC draws and monitor convergence</h1>
    
    <div class="hidden name"><code>monitor.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Similar to the <code>print</code> method for <code>stanfit</code> objects, but <code>monitor</code>
  takes an array of simulations as its argument rather than a <code>stanfit</code>
  object. For a 3-D array (iterations * chains * parameters) of MCMC draws, 
  <code>monitor</code> computes means, standard deviations, quantiles, Monte Carlo 
  standard errors, split Rhats, and effective sample sizes. By default, half of 
  the iterations are considered warmup and are excluded.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre><code>monitor(sims, warmup = floor(dim(sims)[1]/2), 
        probs = c(0.025, 0.25, 0.5, 0.75, 0.975), 
        digits_summary = 1, print = TRUE, ...)
# S3 method for simsummary
print(x, digits = 3, se = FALSE, ...)
# S3 method for simsummary
[(x, i, j, drop = if (missing(i)) TRUE else length(j) == 1)</code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>sims</dt>
<dd><p>A 3-D array (iterations * chains * parameters) of MCMC 
    simulations from any MCMC algorithm.</p></dd>

  <dt>warmup</dt>
<dd><p>The number of warmup iterations to be excluded 
    when computing the summaries. The default is half of the total number 
    of iterations. If <code>sims</code> doesn't include the warmup iterations then 
    <code>warmup</code> should be set to zero.</p></dd>

  <dt>probs</dt>
<dd><p>A numeric vector specifying quantiles of interest. The 
    defaults is <code>c(0.025,0.25,0.5,0.75,0.975)</code>.</p></dd>

  <dt>digits_summary</dt>
<dd><p>The number of significant digits to use when printing
    the summary, defaulting to 1. Applies to the quantities other than 
    the effective sample size, which is always rounded to the nearest integer.</p></dd>

  <dt>print</dt>
<dd><p>Logical, indicating whether to print the summary after the 
    computations are performed.</p></dd>
 
  <dt>...</dt>
<dd><p>Additional arguments passed to the underlying <code>print</code> method.</p></dd>

  <dt>x</dt>
<dd><p>An object of class <code>simsummary</code> created by <code>monitor</code></p></dd>

  <dt>digits</dt>
<dd><p>An integer scalar defaulting to 3 for the number of decimal
    places to print</p></dd>

  <dt>se</dt>
<dd><p>A logical scalar defaulting to <code>FALSE</code> indicating whether
    to print the estimated standard errors of the estimates</p></dd>

  <dt>i</dt>
<dd><p>A vector indicating which rows of the object created by <code>monitor</code>
    to select</p></dd>

  <dt>j</dt>
<dd><p>A vector indicating which columns of the object crated by <code>monitor</code>
    to select</p></dd>

  <dt>drop</dt>
<dd><p>A logical scalar indicating whether the resulting object 
    should return a vector where possible</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A 2-D array with rows corresponding to parameters and columns to the 
  summary statistics that can be printed and subset.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>The Stan Development Team 
  <em>Stan Modeling Language User's Guide and Reference Manual</em>. 
  <a href="https://mc-stan.org" class="external-link">https://mc-stan.org</a>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>S4 class <code><a href="stanfit-class.html">stanfit</a></code> and particularly its
  <code><a href="print.stanfit.html">print</a></code> method.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">csvfiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'misc'</span>, package <span class="op">=</span> <span class="st">'rstan'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                pattern <span class="op">=</span> <span class="st">'rstan_doc_ex_[0-9].csv'</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="stan_csv.html">read_stan_csv</a></span><span class="op">(</span><span class="va">csvfiles</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The following is just for the purpose of giving an example</span></span></span>
<span class="r-in"><span><span class="co"># since print can be used for a stanfit object.</span></span></span>
<span class="r-in"><span><span class="fu">monitor</span><span class="op">(</span><span class="fu"><a href="stanfit-method-extract.html">extract</a></span><span class="op">(</span><span class="va">fit</span>, permuted <span class="op">=</span> <span class="cn">FALSE</span>, inc_warmup <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Inference for the input samples (4 chains: each with iter = 200; warmup = 100):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Q5   Q50   Q95  Mean  SD  Rhat Bulk_ESS Tail_ESS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mu      -0.3   0.1   0.4   0.1 0.2  1.01      348      229</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma    0.9   1.1   1.5   1.2 0.2  1.01      227      178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z[1,1]  -1.6   0.0   1.4   0.0 0.9  1.01      308      301</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z[2,1]  -1.4   0.1   1.7   0.1 1.0  1.01      329      246</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z[3,1]  -1.9  -0.1   1.7  -0.1 1.1  1.00      455      294</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z[1,2]  -1.7   0.0   1.5   0.0 1.0  1.01      278      138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z[2,2]  -1.5   0.1   1.5   0.0 0.9  1.01      438      251</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z[3,2]  -1.6   0.1   1.9   0.1 1.0  1.02      344      124</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alpha    0.0   0.4   1.6   0.5 0.5  1.01      354      116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lp__   -21.5 -17.2 -14.6 -17.5 2.3  1.03      117      208</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> For each parameter, Bulk_ESS and Tail_ESS are crude measures of </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> effective sample size for bulk and tail quantities respectively (an ESS &gt; 100 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> per chain is considered good), and Rhat is the potential scale reduction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor on rank normalized split chains (at convergence, Rhat &lt;= 1.05).</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jiqiang Guo, Jonah Gabry, Ben Goodrich, Andrew Johnson, Sebastian Weber.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

